
from bs4 import BeautifulSoup
from datetime import datetime


html = """ <div class="
                    ff-dropdown_dropdownContent__zSMGx
                    ff-dropdown_isRightAligned__F5a1t
                    
                " style="display: none;"><button class="ff-dropdown_dropupContentButton__WC4zi ff-dropdown_checked__yE_9P"><div class="d-flex flex-row justify-content-between">9 Dec 2022<div class="ff-dropdown_checkedIconContainer__jJlgc"><svg width="15" height="12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.119 11.571a.79.79 0 01-.298-.06.62.62 0 01-.26-.2L.599 7.033a.792.792 0 01-.242-.602c0-.241.075-.442.242-.603a.685.685 0 01.558-.26c.205 0 .39.08.558.26l3.404 3.674L13.285.69a.746.746 0 01.577-.261c.204 0 .39.08.539.26.168.161.242.362.242.603 0 .24-.075.442-.223.602L5.677 11.31a.62.62 0 01-.26.201.789.789 0 01-.298.06z" fill="#091B3F"></path></svg></div></div></button><button class="ff-dropdown_dropupContentButton__WC4zi">13 Oct 2022</button><button class="ff-dropdown_dropupContentButton__WC4zi">5 Aug 2022</button><button class="ff-dropdown_dropupContentButton__WC4zi">17 Jun 2022</button><button class="ff-dropdown_dropupContentButton__WC4zi">25 Mar 2022</button><button class="ff-dropdown_dropupContentButton__WC4zi">10 Dec 2021</button><button class="ff-dropdown_dropupContentButton__WC4zi">20 Aug 2021</button><button class="ff-dropdown_dropupContentButton__WC4zi">25 Jun 2021</button><button class="ff-dropdown_dropupContentButton__WC4zi">16 Apr 2021</button><button class="ff-dropdown_dropupContentButton__WC4zi">18 Dec 2020</button><button class="ff-dropdown_dropupContentButton__WC4zi">14 Aug 2020</button><button class="ff-dropdown_dropupContentButton__WC4zi">26 Jun 2020</button><button class="ff-dropdown_dropupContentButton__WC4zi">27 Mar 2020</button><button class="ff-dropdown_dropupContentButton__WC4zi">13 Dec 2019</button><button class="ff-dropdown_dropupContentButton__WC4zi">27 Sept 2019</button><button class="ff-dropdown_dropupContentButton__WC4zi">12 Jul 2019</button><button class="ff-dropdown_dropupContentButton__WC4zi">29 Mar 2019</button><button class="ff-dropdown_dropupContentButton__WC4zi">7 Dec 2018</button><button class="ff-dropdown_dropupContentButton__WC4zi">28 Sept 2018</button><button class="ff-dropdown_dropupContentButton__WC4zi">22 Jun 2018</button><button class="ff-dropdown_dropupContentButton__WC4zi">23 Mar 2018</button><button class="ff-dropdown_dropupContentButton__WC4zi">15 Dec 2017</button><button class="ff-dropdown_dropupContentButton__WC4zi">1 Sept 2017</button><button class="ff-dropdown_dropupContentButton__WC4zi">23 Jun 2017</button><button class="ff-dropdown_dropupContentButton__WC4zi">24 Mar 2017</button><button class="ff-dropdown_dropupContentButton__WC4zi">23 Dec 2016</button><button class="ff-dropdown_dropupContentButton__WC4zi">26 Aug 2016</button><button class="ff-dropdown_dropupContentButton__WC4zi">24 Jun 2016</button><button class="ff-dropdown_dropupContentButton__WC4zi">25 Mar 2016</button><button class="ff-dropdown_dropupContentButton__WC4zi">18 Dec 2015</button><button class="ff-dropdown_dropupContentButton__WC4zi">25 Sept 2015</button><button class="ff-dropdown_dropupContentButton__WC4zi">10 Jul 2015</button><button class="ff-dropdown_dropupContentButton__WC4zi">27 Mar 2015</button><button class="ff-dropdown_dropupContentButton__WC4zi">19 Dec 2014</button><button class="ff-dropdown_dropupContentButton__WC4zi">19 Sept 2014</button><button class="ff-dropdown_dropupContentButton__WC4zi">20 Jun 2014</button><button class="ff-dropdown_dropupContentButton__WC4zi">28 Mar 2014</button><button class="ff-dropdown_dropupContentButton__WC4zi">13 Dec 2013</button><button class="ff-dropdown_dropupContentButton__WC4zi">2 Aug 2013</button><button class="ff-dropdown_dropupContentButton__WC4zi">21 Jun 2013</button><button class="ff-dropdown_dropupContentButton__WC4zi">22 Mar 2013</button><button class="ff-dropdown_dropupContentButton__WC4zi">7 Dec 2012</button><button class="ff-dropdown_dropupContentButton__WC4zi">17 Aug 2012</button><button class="ff-dropdown_dropupContentButton__WC4zi">1 Jun 2012</button><button class="ff-dropdown_dropupContentButton__WC4zi">16 Mar 2012</button><button class="ff-dropdown_dropupContentButton__WC4zi">23 Dec 2011</button><button class="ff-dropdown_dropupContentButton__WC4zi">23 Sept 2011</button><button class="ff-dropdown_dropupContentButton__WC4zi">22 Jul 2011</button><button class="ff-dropdown_dropupContentButton__WC4zi">18 Mar 2011</button><button class="ff-dropdown_dropupContentButton__WC4zi">19 Nov 2010</button><button class="ff-dropdown_dropupContentButton__WC4zi">13 Aug 2010</button><button class="ff-dropdown_dropupContentButton__WC4zi">28 May 2010</button><button class="ff-dropdown_dropupContentButton__WC4zi">12 Mar 2010</button><button class="ff-dropdown_dropupContentButton__WC4zi">18 Dec 2009</button><button class="ff-dropdown_dropupContentButton__WC4zi">25 Sept 2009</button><button class="ff-dropdown_dropupContentButton__WC4zi">26 Jun 2009</button><button class="ff-dropdown_dropupContentButton__WC4zi">27 Mar 2009</button><button class="ff-dropdown_dropupContentButton__WC4zi">19 Dec 2008</button><button class="ff-dropdown_dropupContentButton__WC4zi">5 Sept 2008</button><button class="ff-dropdown_dropupContentButton__WC4zi">6 Jun 2008</button><button class="ff-dropdown_dropupContentButton__WC4zi">21 Mar 2008</button><button class="ff-dropdown_dropupContentButton__WC4zi">21 Dec 2007</button><button class="ff-dropdown_dropupContentButton__WC4zi">5 Oct 2007</button><button class="ff-dropdown_dropupContentButton__WC4zi">15 Jun 2007</button><button class="ff-dropdown_dropupContentButton__WC4zi">16 Mar 2007</button><button class="ff-dropdown_dropupContentButton__WC4zi">22 Dec 2006</button><button class="ff-dropdown_dropupContentButton__WC4zi">15 Sept 2006</button><button class="ff-dropdown_dropupContentButton__WC4zi">19 May 2006</button><button class="ff-dropdown_dropupContentButton__WC4zi">17 Mar 2006</button><button class="ff-dropdown_dropupContentButton__WC4zi">16 Dec 2005</button><button class="ff-dropdown_dropupContentButton__WC4zi">16 Sept 2005</button><button class="ff-dropdown_dropupContentButton__WC4zi">24 Jun 2005</button><button class="ff-dropdown_dropupContentButton__WC4zi">25 Mar 2005</button><button class="ff-dropdown_dropupContentButton__WC4zi">20 Dec 2004</button><button class="ff-dropdown_dropupContentButton__WC4zi">30 Aug 2004</button><button class="ff-dropdown_dropupContentButton__WC4zi">7 Jun 2004</button><button class="ff-dropdown_dropupContentButton__WC4zi">15 Mar 2004</button><button class="ff-dropdown_dropupContentButton__WC4zi">15 Dec 2003</button><button class="ff-dropdown_dropupContentButton__WC4zi">24 Oct 2003</button><button class="ff-dropdown_dropupContentButton__WC4zi">29 Aug 2003</button><button class="ff-dropdown_dropupContentButton__WC4zi">16 Jul 2003</button></div>


"""


def get_date(dom):
    soup = BeautifulSoup(dom, 'html.parser')
    dateList = soup.find_all('button', {'class': 'ff-dropdown_dropupContentButton__WC4zi'})
    dates = [date.text.strip() for date in dateList]
    dates = [dates[i].replace('Sept', 'Sep') for i in range(len(dates))]
    outdate = []
    for date in dates:
        date_objet = datetime.strptime(date, '%d %b %Y')
        date_temp = date_objet.strftime('%Y-%m-%d')
        outdate.append(date_temp)
    id = [i.replace('-', '') for i in outdate]
    return id

ListDatesID = get_date(html) # dates for the data variable date



    